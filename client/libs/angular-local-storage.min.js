/**
 * An Angular module that gives you access to the browsers local storage
 * @version v0.2.7 - 2016-03-16
 * @link https://github.com/grevory/angular-local-storage
 * @author grevory <greg@gregpike.ca>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(a,b){var c=b.isDefined,d=b.isUndefined,e=b.isNumber,f=b.isObject,g=b.isArray,h=b.extend,i=b.toJson;b.module("LocalStorageModule",[]).provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(a){return this.prefix=a,this},this.setStorageType=function(a){return this.storageType=a,this},this.setStorageCookie=function(a,b){return this.cookie.expiry=a,this.cookie.path=b,this},this.setStorageCookieDomain=function(a){return this.cookie.domain=a,this},this.setNotify=function(a,b){return this.notify={setItem:a,removeItem:b},this},this.$get=["$rootScope","$window","$document","$parse",function(a,b,j,k){var l,m=this,n=m.prefix,o=m.cookie,p=m.notify,q=m.storageType;j?j[0]&&(j=j[0]):j=document,"."!==n.substr(-1)&&(n=n?n+".":"");var r=function(a){return n+a},s=function(){try{var c=q in b&&null!==b[q],d=r("__"+Math.round(1e7*Math.random()));return c&&(l=b[q],l.setItem(d,""),l.removeItem(d)),c}catch(e){return q="cookie",a.$broadcast("LocalStorageModule.notification.error",e.message),!1}}(),t=function(b,c){if(c=d(c)?null:i(c),!s||"cookie"===m.storageType)return s||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),p.setItem&&a.$broadcast("LocalStorageModule.notification.setitem",{key:b,newvalue:c,storageType:"cookie"}),z(b,c);try{l&&l.setItem(r(b),c),p.setItem&&a.$broadcast("LocalStorageModule.notification.setitem",{key:b,newvalue:c,storageType:m.storageType})}catch(e){return a.$broadcast("LocalStorageModule.notification.error",e.message),z(b,c)}return!0},u=function(b){if(!s||"cookie"===m.storageType)return s||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),A(b);var c=l?l.getItem(r(b)):null;if(!c||"null"===c)return null;try{return JSON.parse(c)}catch(d){return c}},v=function(){var b,c;for(b=0;b<arguments.length;b++)if(c=arguments[b],s&&"cookie"!==m.storageType)try{l.removeItem(r(c)),p.removeItem&&a.$broadcast("LocalStorageModule.notification.removeitem",{key:c,storageType:m.storageType})}catch(d){a.$broadcast("LocalStorageModule.notification.error",d.message),B(c)}else s||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),p.removeItem&&a.$broadcast("LocalStorageModule.notification.removeitem",{key:c,storageType:"cookie"}),B(c)},w=function(){if(!s)return a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),[];var b=n.length,c=[];for(var d in l)if(d.substr(0,b)===n)try{c.push(d.substr(b))}catch(e){return a.$broadcast("LocalStorageModule.notification.error",e.Description),[]}return c},x=function(b){var c=n?new RegExp("^"+n):new RegExp,d=b?new RegExp(b):new RegExp;if(!s||"cookie"===m.storageType)return s||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),C();var e=n.length;for(var f in l)if(c.test(f)&&d.test(f.substr(e)))try{v(f.substr(e))}catch(g){return a.$broadcast("LocalStorageModule.notification.error",g.message),C()}return!0},y=function(){try{return b.navigator.cookieEnabled||"cookie"in j&&(j.cookie.length>0||(j.cookie="test").indexOf.call(j.cookie,"test")>-1)}catch(c){return a.$broadcast("LocalStorageModule.notification.error",c.message),!1}}(),z=function(b,c,h){if(d(c))return!1;if((g(c)||f(c))&&(c=i(c)),!y)return a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var k="",l=new Date,m="";if(null===c?(l.setTime(l.getTime()+-864e5),k="; expires="+l.toGMTString(),c=""):e(h)&&0!==h?(l.setTime(l.getTime()+24*h*60*60*1e3),k="; expires="+l.toGMTString()):0!==o.expiry&&(l.setTime(l.getTime()+24*o.expiry*60*60*1e3),k="; expires="+l.toGMTString()),b){var n="; path="+o.path;o.domain&&(m="; domain="+o.domain),j.cookie=r(b)+"="+encodeURIComponent(c)+k+n+m}}catch(p){return a.$broadcast("LocalStorageModule.notification.error",p.message),!1}return!0},A=function(b){if(!y)return a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var c=j.cookie&&j.cookie.split(";")||[],d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(r(b)+"=")){var f=decodeURIComponent(e.substring(n.length+b.length+1,e.length));try{return JSON.parse(f)}catch(g){return f}}}return null},B=function(a){z(a,null)},C=function(){for(var a=null,b=n.length,c=j.cookie.split(";"),d=0;d<c.length;d++){for(a=c[d];" "===a.charAt(0);)a=a.substring(1,a.length);var e=a.substring(b,a.indexOf("="));B(e)}},D=function(){return q},E=function(a,b,d,e){e=e||b;var g=u(e);return null===g&&c(d)?g=d:f(g)&&f(d)&&(g=h(g,d)),k(b).assign(a,g),a.$watch(b,function(a){t(e,a)},f(a[b]))},F=function(){for(var a=0,c=b[q],d=0;d<c.length;d++)0===c.key(d).indexOf(n)&&a++;return a};return{isSupported:s,getStorageType:D,set:t,add:t,get:u,keys:w,remove:v,clearAll:x,bind:E,deriveKey:r,length:F,cookie:{isSupported:y,set:z,add:z,get:A,remove:B,clearAll:C}}}]})}(window,window.angular);
//# sourceMappingURL=angular-local-storage.min.js.map
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJhbmd1bGFyLWxvY2FsLXN0b3JhZ2UubWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQW4gQW5ndWxhciBtb2R1bGUgdGhhdCBnaXZlcyB5b3UgYWNjZXNzIHRvIHRoZSBicm93c2VycyBsb2NhbCBzdG9yYWdlXG4gKiBAdmVyc2lvbiB2MC4yLjcgLSAyMDE2LTAzLTE2XG4gKiBAbGluayBodHRwczovL2dpdGh1Yi5jb20vZ3Jldm9yeS9hbmd1bGFyLWxvY2FsLXN0b3JhZ2VcbiAqIEBhdXRob3IgZ3Jldm9yeSA8Z3JlZ0BncmVncGlrZS5jYT5cbiAqIEBsaWNlbnNlIE1JVCBMaWNlbnNlLCBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICovXG4hZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmlzRGVmaW5lZCxkPWIuaXNVbmRlZmluZWQsZT1iLmlzTnVtYmVyLGY9Yi5pc09iamVjdCxnPWIuaXNBcnJheSxoPWIuZXh0ZW5kLGk9Yi50b0pzb247Yi5tb2R1bGUoXCJMb2NhbFN0b3JhZ2VNb2R1bGVcIixbXSkucHJvdmlkZXIoXCJsb2NhbFN0b3JhZ2VTZXJ2aWNlXCIsZnVuY3Rpb24oKXt0aGlzLnByZWZpeD1cImxzXCIsdGhpcy5zdG9yYWdlVHlwZT1cImxvY2FsU3RvcmFnZVwiLHRoaXMuY29va2llPXtleHBpcnk6MzAscGF0aDpcIi9cIn0sdGhpcy5ub3RpZnk9e3NldEl0ZW06ITAscmVtb3ZlSXRlbTohMX0sdGhpcy5zZXRQcmVmaXg9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHJlZml4PWEsdGhpc30sdGhpcy5zZXRTdG9yYWdlVHlwZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zdG9yYWdlVHlwZT1hLHRoaXN9LHRoaXMuc2V0U3RvcmFnZUNvb2tpZT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNvb2tpZS5leHBpcnk9YSx0aGlzLmNvb2tpZS5wYXRoPWIsdGhpc30sdGhpcy5zZXRTdG9yYWdlQ29va2llRG9tYWluPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvb2tpZS5kb21haW49YSx0aGlzfSx0aGlzLnNldE5vdGlmeT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm5vdGlmeT17c2V0SXRlbTphLHJlbW92ZUl0ZW06Yn0sdGhpc30sdGhpcy4kZ2V0PVtcIiRyb290U2NvcGVcIixcIiR3aW5kb3dcIixcIiRkb2N1bWVudFwiLFwiJHBhcnNlXCIsZnVuY3Rpb24oYSxiLGosayl7dmFyIGwsbT10aGlzLG49bS5wcmVmaXgsbz1tLmNvb2tpZSxwPW0ubm90aWZ5LHE9bS5zdG9yYWdlVHlwZTtqP2pbMF0mJihqPWpbMF0pOmo9ZG9jdW1lbnQsXCIuXCIhPT1uLnN1YnN0cigtMSkmJihuPW4/bitcIi5cIjpcIlwiKTt2YXIgcj1mdW5jdGlvbihhKXtyZXR1cm4gbithfSxzPWZ1bmN0aW9uKCl7dHJ5e3ZhciBjPXEgaW4gYiYmbnVsbCE9PWJbcV0sZD1yKFwiX19cIitNYXRoLnJvdW5kKDFlNypNYXRoLnJhbmRvbSgpKSk7cmV0dXJuIGMmJihsPWJbcV0sbC5zZXRJdGVtKGQsXCJcIiksbC5yZW1vdmVJdGVtKGQpKSxjfWNhdGNoKGUpe3JldHVybiBxPVwiY29va2llXCIsYS4kYnJvYWRjYXN0KFwiTG9jYWxTdG9yYWdlTW9kdWxlLm5vdGlmaWNhdGlvbi5lcnJvclwiLGUubWVzc2FnZSksITF9fSgpLHQ9ZnVuY3Rpb24oYixjKXtpZihjPWQoYyk/bnVsbDppKGMpLCFzfHxcImNvb2tpZVwiPT09bS5zdG9yYWdlVHlwZSlyZXR1cm4gc3x8YS4kYnJvYWRjYXN0KFwiTG9jYWxTdG9yYWdlTW9kdWxlLm5vdGlmaWNhdGlvbi53YXJuaW5nXCIsXCJMT0NBTF9TVE9SQUdFX05PVF9TVVBQT1JURURcIikscC5zZXRJdGVtJiZhLiRicm9hZGNhc3QoXCJMb2NhbFN0b3JhZ2VNb2R1bGUubm90aWZpY2F0aW9uLnNldGl0ZW1cIix7a2V5OmIsbmV3dmFsdWU6YyxzdG9yYWdlVHlwZTpcImNvb2tpZVwifSkseihiLGMpO3RyeXtsJiZsLnNldEl0ZW0ocihiKSxjKSxwLnNldEl0ZW0mJmEuJGJyb2FkY2FzdChcIkxvY2FsU3RvcmFnZU1vZHVsZS5ub3RpZmljYXRpb24uc2V0aXRlbVwiLHtrZXk6YixuZXd2YWx1ZTpjLHN0b3JhZ2VUeXBlOm0uc3RvcmFnZVR5cGV9KX1jYXRjaChlKXtyZXR1cm4gYS4kYnJvYWRjYXN0KFwiTG9jYWxTdG9yYWdlTW9kdWxlLm5vdGlmaWNhdGlvbi5lcnJvclwiLGUubWVzc2FnZSkseihiLGMpfXJldHVybiEwfSx1PWZ1bmN0aW9uKGIpe2lmKCFzfHxcImNvb2tpZVwiPT09bS5zdG9yYWdlVHlwZSlyZXR1cm4gc3x8YS4kYnJvYWRjYXN0KFwiTG9jYWxTdG9yYWdlTW9kdWxlLm5vdGlmaWNhdGlvbi53YXJuaW5nXCIsXCJMT0NBTF9TVE9SQUdFX05PVF9TVVBQT1JURURcIiksQShiKTt2YXIgYz1sP2wuZ2V0SXRlbShyKGIpKTpudWxsO2lmKCFjfHxcIm51bGxcIj09PWMpcmV0dXJuIG51bGw7dHJ5e3JldHVybiBKU09OLnBhcnNlKGMpfWNhdGNoKGQpe3JldHVybiBjfX0sdj1mdW5jdGlvbigpe3ZhciBiLGM7Zm9yKGI9MDtiPGFyZ3VtZW50cy5sZW5ndGg7YisrKWlmKGM9YXJndW1lbnRzW2JdLHMmJlwiY29va2llXCIhPT1tLnN0b3JhZ2VUeXBlKXRyeXtsLnJlbW92ZUl0ZW0ocihjKSkscC5yZW1vdmVJdGVtJiZhLiRicm9hZGNhc3QoXCJMb2NhbFN0b3JhZ2VNb2R1bGUubm90aWZpY2F0aW9uLnJlbW92ZWl0ZW1cIix7a2V5OmMsc3RvcmFnZVR5cGU6bS5zdG9yYWdlVHlwZX0pfWNhdGNoKGQpe2EuJGJyb2FkY2FzdChcIkxvY2FsU3RvcmFnZU1vZHVsZS5ub3RpZmljYXRpb24uZXJyb3JcIixkLm1lc3NhZ2UpLEIoYyl9ZWxzZSBzfHxhLiRicm9hZGNhc3QoXCJMb2NhbFN0b3JhZ2VNb2R1bGUubm90aWZpY2F0aW9uLndhcm5pbmdcIixcIkxPQ0FMX1NUT1JBR0VfTk9UX1NVUFBPUlRFRFwiKSxwLnJlbW92ZUl0ZW0mJmEuJGJyb2FkY2FzdChcIkxvY2FsU3RvcmFnZU1vZHVsZS5ub3RpZmljYXRpb24ucmVtb3ZlaXRlbVwiLHtrZXk6YyxzdG9yYWdlVHlwZTpcImNvb2tpZVwifSksQihjKX0sdz1mdW5jdGlvbigpe2lmKCFzKXJldHVybiBhLiRicm9hZGNhc3QoXCJMb2NhbFN0b3JhZ2VNb2R1bGUubm90aWZpY2F0aW9uLndhcm5pbmdcIixcIkxPQ0FMX1NUT1JBR0VfTk9UX1NVUFBPUlRFRFwiKSxbXTt2YXIgYj1uLmxlbmd0aCxjPVtdO2Zvcih2YXIgZCBpbiBsKWlmKGQuc3Vic3RyKDAsYik9PT1uKXRyeXtjLnB1c2goZC5zdWJzdHIoYikpfWNhdGNoKGUpe3JldHVybiBhLiRicm9hZGNhc3QoXCJMb2NhbFN0b3JhZ2VNb2R1bGUubm90aWZpY2F0aW9uLmVycm9yXCIsZS5EZXNjcmlwdGlvbiksW119cmV0dXJuIGN9LHg9ZnVuY3Rpb24oYil7dmFyIGM9bj9uZXcgUmVnRXhwKFwiXlwiK24pOm5ldyBSZWdFeHAsZD1iP25ldyBSZWdFeHAoYik6bmV3IFJlZ0V4cDtpZighc3x8XCJjb29raWVcIj09PW0uc3RvcmFnZVR5cGUpcmV0dXJuIHN8fGEuJGJyb2FkY2FzdChcIkxvY2FsU3RvcmFnZU1vZHVsZS5ub3RpZmljYXRpb24ud2FybmluZ1wiLFwiTE9DQUxfU1RPUkFHRV9OT1RfU1VQUE9SVEVEXCIpLEMoKTt2YXIgZT1uLmxlbmd0aDtmb3IodmFyIGYgaW4gbClpZihjLnRlc3QoZikmJmQudGVzdChmLnN1YnN0cihlKSkpdHJ5e3YoZi5zdWJzdHIoZSkpfWNhdGNoKGcpe3JldHVybiBhLiRicm9hZGNhc3QoXCJMb2NhbFN0b3JhZ2VNb2R1bGUubm90aWZpY2F0aW9uLmVycm9yXCIsZy5tZXNzYWdlKSxDKCl9cmV0dXJuITB9LHk9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGIubmF2aWdhdG9yLmNvb2tpZUVuYWJsZWR8fFwiY29va2llXCJpbiBqJiYoai5jb29raWUubGVuZ3RoPjB8fChqLmNvb2tpZT1cInRlc3RcIikuaW5kZXhPZi5jYWxsKGouY29va2llLFwidGVzdFwiKT4tMSl9Y2F0Y2goYyl7cmV0dXJuIGEuJGJyb2FkY2FzdChcIkxvY2FsU3RvcmFnZU1vZHVsZS5ub3RpZmljYXRpb24uZXJyb3JcIixjLm1lc3NhZ2UpLCExfX0oKSx6PWZ1bmN0aW9uKGIsYyxoKXtpZihkKGMpKXJldHVybiExO2lmKChnKGMpfHxmKGMpKSYmKGM9aShjKSksIXkpcmV0dXJuIGEuJGJyb2FkY2FzdChcIkxvY2FsU3RvcmFnZU1vZHVsZS5ub3RpZmljYXRpb24uZXJyb3JcIixcIkNPT0tJRVNfTk9UX1NVUFBPUlRFRFwiKSwhMTt0cnl7dmFyIGs9XCJcIixsPW5ldyBEYXRlLG09XCJcIjtpZihudWxsPT09Yz8obC5zZXRUaW1lKGwuZ2V0VGltZSgpKy04NjRlNSksaz1cIjsgZXhwaXJlcz1cIitsLnRvR01UU3RyaW5nKCksYz1cIlwiKTplKGgpJiYwIT09aD8obC5zZXRUaW1lKGwuZ2V0VGltZSgpKzI0KmgqNjAqNjAqMWUzKSxrPVwiOyBleHBpcmVzPVwiK2wudG9HTVRTdHJpbmcoKSk6MCE9PW8uZXhwaXJ5JiYobC5zZXRUaW1lKGwuZ2V0VGltZSgpKzI0Km8uZXhwaXJ5KjYwKjYwKjFlMyksaz1cIjsgZXhwaXJlcz1cIitsLnRvR01UU3RyaW5nKCkpLGIpe3ZhciBuPVwiOyBwYXRoPVwiK28ucGF0aDtvLmRvbWFpbiYmKG09XCI7IGRvbWFpbj1cIitvLmRvbWFpbiksai5jb29raWU9cihiKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQoYykraytuK219fWNhdGNoKHApe3JldHVybiBhLiRicm9hZGNhc3QoXCJMb2NhbFN0b3JhZ2VNb2R1bGUubm90aWZpY2F0aW9uLmVycm9yXCIscC5tZXNzYWdlKSwhMX1yZXR1cm4hMH0sQT1mdW5jdGlvbihiKXtpZigheSlyZXR1cm4gYS4kYnJvYWRjYXN0KFwiTG9jYWxTdG9yYWdlTW9kdWxlLm5vdGlmaWNhdGlvbi5lcnJvclwiLFwiQ09PS0lFU19OT1RfU1VQUE9SVEVEXCIpLCExO2Zvcih2YXIgYz1qLmNvb2tpZSYmai5jb29raWUuc3BsaXQoXCI7XCIpfHxbXSxkPTA7ZDxjLmxlbmd0aDtkKyspe2Zvcih2YXIgZT1jW2RdO1wiIFwiPT09ZS5jaGFyQXQoMCk7KWU9ZS5zdWJzdHJpbmcoMSxlLmxlbmd0aCk7aWYoMD09PWUuaW5kZXhPZihyKGIpK1wiPVwiKSl7dmFyIGY9ZGVjb2RlVVJJQ29tcG9uZW50KGUuc3Vic3RyaW5nKG4ubGVuZ3RoK2IubGVuZ3RoKzEsZS5sZW5ndGgpKTt0cnl7cmV0dXJuIEpTT04ucGFyc2UoZil9Y2F0Y2goZyl7cmV0dXJuIGZ9fX1yZXR1cm4gbnVsbH0sQj1mdW5jdGlvbihhKXt6KGEsbnVsbCl9LEM9ZnVuY3Rpb24oKXtmb3IodmFyIGE9bnVsbCxiPW4ubGVuZ3RoLGM9ai5jb29raWUuc3BsaXQoXCI7XCIpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7Zm9yKGE9Y1tkXTtcIiBcIj09PWEuY2hhckF0KDApOylhPWEuc3Vic3RyaW5nKDEsYS5sZW5ndGgpO3ZhciBlPWEuc3Vic3RyaW5nKGIsYS5pbmRleE9mKFwiPVwiKSk7QihlKX19LEQ9ZnVuY3Rpb24oKXtyZXR1cm4gcX0sRT1mdW5jdGlvbihhLGIsZCxlKXtlPWV8fGI7dmFyIGc9dShlKTtyZXR1cm4gbnVsbD09PWcmJmMoZCk/Zz1kOmYoZykmJmYoZCkmJihnPWgoZyxkKSksayhiKS5hc3NpZ24oYSxnKSxhLiR3YXRjaChiLGZ1bmN0aW9uKGEpe3QoZSxhKX0sZihhW2JdKSl9LEY9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxjPWJbcV0sZD0wO2Q8Yy5sZW5ndGg7ZCsrKTA9PT1jLmtleShkKS5pbmRleE9mKG4pJiZhKys7cmV0dXJuIGF9O3JldHVybntpc1N1cHBvcnRlZDpzLGdldFN0b3JhZ2VUeXBlOkQsc2V0OnQsYWRkOnQsZ2V0OnUsa2V5czp3LHJlbW92ZTp2LGNsZWFyQWxsOngsYmluZDpFLGRlcml2ZUtleTpyLGxlbmd0aDpGLGNvb2tpZTp7aXNTdXBwb3J0ZWQ6eSxzZXQ6eixhZGQ6eixnZXQ6QSxyZW1vdmU6QixjbGVhckFsbDpDfX19XX0pfSh3aW5kb3csd2luZG93LmFuZ3VsYXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5ndWxhci1sb2NhbC1zdG9yYWdlLm1pbi5qcy5tYXAiXSwiZmlsZSI6ImFuZ3VsYXItbG9jYWwtc3RvcmFnZS5taW4uanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
