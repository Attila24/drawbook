{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","app/app.auth.js","main.min.js","app/app.constants.js","app/app.js","app/app.routes.js","app/app/common/HomeController.js","app/app/common/LoginController.js","app/app/common/RegisterController.js","app/app/draw/DrawController.js","app/app/services/UserService.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","AuthConfig","$authProvider","server","baseUrl","url","signupUrl","loginUrl","$inject","2","3","angular","constant","factory","config","./app.auth","./app.constants","./app.routes","./app/services/UserService","4","DrawboookStates","$stateProvider","$urlRouterProvider","$locationProvider","state","templateUrl","controller","controllerAs","otherwise","html5Mode","./app/common/HomeController","./app/common/LoginController","./app/common/RegisterController","./app/draw/DrawController","5","HomeController","$auth","$window","$state","isAuthenticated","logout","localStorage","currentUser","draw","go","vm","this","title","console","log","JSON","parse","getItem","user","6","LoginController","login","username","name","password","then","res","stringify","data","incorrectLogin","7","RegisterController","UserService","$alert","checkUsername","get","takenUsername","register","firstName","lastName","age","gender","signup","genders","8","DrawController","9","$q","$http","deferred","defer","success","resolve","error","reject","promise"],"mappings":"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","file":"main.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function () {\r\n    'use strict';\r\n\r\n    AuthConfig.$inject = ['$authProvider', 'server'];\r\n\r\n\r\n    /* @ngInject */\r\n    function AuthConfig ($authProvider, server) {\r\n        $authProvider.baseUrl = server.url;\r\n\r\n        $authProvider.signupUrl = '/users/register';\r\n        $authProvider.loginUrl = '/users/login';\r\n    }\r\n\r\n    module.exports = AuthConfig;\r\n\r\n})();","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function () {\r\n    'use strict';\r\n\r\n    AuthConfig.$inject = ['$authProvider', 'server'];\r\n\r\n\r\n    /* @ngInject */\r\n    function AuthConfig ($authProvider, server) {\r\n        $authProvider.baseUrl = server.url;\r\n\r\n        $authProvider.signupUrl = '/users/register';\r\n        $authProvider.loginUrl = '/users/login';\r\n    }\r\n\r\n    module.exports = AuthConfig;\r\n\r\n})();\n},{}],2:[function(require,module,exports){\n(function () {\r\n    'use strict';\r\n\r\n    module.exports = {\r\n        url: 'http://localhost:5000/api/'\r\n    }\r\n\r\n})();\n},{}],3:[function(require,module,exports){\n(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('drawbook', [\r\n            'ngAnimate',\r\n            'ui.router',\r\n            'mgcrea.ngStrap',\r\n            'satellizer'\r\n        ])\r\n        .constant('server', require('./app.constants'))\r\n        .factory('UserService', require('./app/services/UserService'))\r\n        .config(require('./app.routes'))\r\n        .config(require('./app.auth'));\r\n})();\n},{\"./app.auth\":1,\"./app.constants\":2,\"./app.routes\":4,\"./app/services/UserService\":9}],4:[function(require,module,exports){\n(function () {\r\n    'use strict';\r\n\r\n    DrawboookStates.$inject = ['$stateProvider', '$urlRouterProvider', '$locationProvider'];\r\n\r\n\r\n    /* @ngInject */\r\n    function DrawboookStates ($stateProvider, $urlRouterProvider, $locationProvider) {\r\n        $stateProvider.state('home', {\r\n                url: '/',\r\n                templateUrl: 'app/common/home.tpl.html',\r\n                controller: require('./app/common/HomeController'),\r\n                controllerAs: 'vm'\r\n            }).\r\n            state('register', {\r\n                url: '/register',\r\n                templateUrl: 'app/common/register.tpl.html',\r\n                controller: require('./app/common/RegisterController'),\r\n                controllerAs: 'vm'\r\n            }).\r\n            state('login', {\r\n                url: '/login',\r\n                templateUrl: 'app/common/login.tpl.html',\r\n                controller: require('./app/common/LoginController'),\r\n                controllerAs: 'vm'\r\n            })\r\n            .state('draw', {\r\n                url: '/draw',\r\n                templateUrl: 'app/draw/draw.tpl.html',\r\n                controller: require('./app/draw/DrawController'),\r\n                controllerAs: 'vm'\r\n            });\r\n\r\n        $urlRouterProvider.otherwise(\"/\");\r\n\r\n        $locationProvider.html5Mode(true);\r\n\r\n    }\r\n\r\n    module.exports = DrawboookStates;\r\n\r\n})();\n},{\"./app/common/HomeController\":5,\"./app/common/LoginController\":6,\"./app/common/RegisterController\":7,\"./app/draw/DrawController\":8}],5:[function(require,module,exports){\n(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('drawbook')\r\n        .controller('HomeController', HomeController);\r\n\r\n    HomeController.$inject = ['$auth', '$window', '$state'];\r\n\r\n    /* @ngInject */\r\n    function HomeController($auth, $window, $state) {\r\n        var vm = this;\r\n        vm.title = 'HomeController';\r\n\r\n        //console.log('rootscope: ' + $rootScope.currentUser);\r\n        console.log('localstorage: ' + JSON.parse(localStorage.getItem('currentUser')));\r\n        vm.user = JSON.parse(localStorage.getItem('currentUser'));\r\n\r\n        vm.isAuthenticated = isAuthenticated;\r\n        vm.logout = logout;\r\n        vm.draw = draw;\r\n        \r\n        function isAuthenticated() {\r\n            return $auth.isAuthenticated();\r\n        }\r\n\r\n        function logout() {\r\n            $auth.logout();\r\n            delete $window.localStorage.currentUser;\r\n        }\r\n        \r\n        function draw() {\r\n            $state.go('draw');\r\n        }\r\n        \r\n    }\r\n\r\n    module.exports = HomeController;\r\n\r\n})();\r\n\r\n\n},{}],6:[function(require,module,exports){\n(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('drawbook')\r\n        .controller('LoginController', LoginController);\r\n\r\n    LoginController.$inject = ['$state', '$auth', '$window'];\r\n\r\n    /* @ngInject */\r\n    function LoginController($state, $auth, $window) {\r\n        var vm = this;\r\n        vm.title = 'LoginController';\r\n\r\n        vm.login = login;\r\n\r\n        vm.incorrectLogin = false;\r\n\r\n        function login() {\r\n\r\n            var user = {\r\n                username: vm.user.name,\r\n                password: vm.user.password\r\n            };\r\n\r\n            $auth.login(user)\r\n                .then(function(res) {\r\n                    $window.localStorage.currentUser = JSON.stringify(res.data.user);\r\n                    //$rootScope.currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n                    $state.go('home');\r\n                })\r\n                .catch(function(res) {\r\n                    console.log('error: ' + res);\r\n                    vm.incorrectLogin = true;\r\n                });\r\n        }\r\n    }\r\n    module.exports = LoginController;\r\n})();\r\n\r\n\n},{}],7:[function(require,module,exports){\n(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('drawbook')\r\n        .controller('RegisterController', RegisterController);\r\n\r\n    RegisterController.$inject = ['$state', '$auth', '$window', 'UserService', '$alert'];\r\n\r\n    /* @ngInject */\r\n    function RegisterController($state, $auth, $window, UserService, $alert) {\r\n        var vm = this;\r\n        vm.title = 'RegisterController';\r\n        vm.genders = ['Male', 'Female'];\r\n\r\n        vm.takenUsername = false;\r\n\r\n        vm.checkUsername = checkUsername;\r\n        vm.register = register;\r\n\r\n        ////////////////\r\n\r\n        function checkUsername() {\r\n            UserService.get(vm.user.name)\r\n                .then(function (res) {\r\n                    vm.takenUsername = res.user != null;\r\n                })\r\n                .catch(function(res) {\r\n                    console.log('Server problem');\r\n                });\r\n        }\r\n\r\n        function register() {\r\n            var user = {\r\n                username: vm.user.name,\r\n                password: vm.user.password,\r\n                firstName: vm.user.firstName,\r\n                lastName: vm.user.lastName,\r\n                age: vm.user.age,\r\n                gender: vm.user.gender\r\n            };\r\n\r\n            $auth.signup(user)\r\n                .then(function(res) {\r\n                    console.log(res);\r\n                    $window.localStorage.currentUser = JSON.stringify(res.data.user);\r\n                    $auth.login(user)\r\n                        .then(function (res) {\r\n                            $state.go('home');\r\n                        })\r\n                        .catch(function (res) {\r\n                            console.log('Error ' + res);\r\n                        });\r\n                })\r\n                .catch(function(res) {\r\n                    console.log('Error ' + res);\r\n                });\r\n\r\n        }\r\n    }\r\n\r\n    module.exports = RegisterController;\r\n\r\n})();\r\n\r\n\n},{}],8:[function(require,module,exports){\n(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('drawbook')\r\n        .controller('DrawController', DrawController);\r\n\r\n    DrawController.$inject = [];\r\n\r\n    /* @ngInject */\r\n    function DrawController() {\r\n        var vm = this;\r\n        vm.title = 'DrawController';\r\n        \r\n        \r\n        \r\n        \r\n    }\r\n\r\n    module.exports = DrawController;\r\n\r\n})();\r\n\r\n\n},{}],9:[function(require,module,exports){\n(function () {\r\n    'use strict';\r\n\r\n    UserService.$inject = ['$q', '$http', 'server'];\r\n\r\n    /* @ngInject */\r\n    function UserService($q, $http, server) {\r\n\r\n        return {\r\n            get: function (username) {\r\n                var deferred = $q.defer();\r\n                $http.get(server.url + 'users/' + username)\r\n                    .success(function (data) {\r\n                        deferred.resolve(data);\r\n                    })\r\n                    .error(function (data) {\r\n                        deferred.reject('rejected: ' + data);\r\n                    });\r\n\r\n                return deferred.promise;\r\n            }\r\n        };\r\n    }\r\n\r\n    module.exports = UserService;\r\n\r\n})();\r\n\n},{}]},{},[3])\n\n","(function () {\r\n    'use strict';\r\n\r\n    module.exports = {\r\n        url: 'http://localhost:5000/api/'\r\n    }\r\n\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('drawbook', [\r\n            'ngAnimate',\r\n            'ui.router',\r\n            'mgcrea.ngStrap',\r\n            'satellizer'\r\n        ])\r\n        .constant('server', require('./app.constants'))\r\n        .factory('UserService', require('./app/services/UserService'))\r\n        .config(require('./app.routes'))\r\n        .config(require('./app.auth'));\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    DrawboookStates.$inject = ['$stateProvider', '$urlRouterProvider', '$locationProvider'];\r\n\r\n\r\n    /* @ngInject */\r\n    function DrawboookStates ($stateProvider, $urlRouterProvider, $locationProvider) {\r\n        $stateProvider.state('home', {\r\n                url: '/',\r\n                templateUrl: 'app/common/home.tpl.html',\r\n                controller: require('./app/common/HomeController'),\r\n                controllerAs: 'vm'\r\n            }).\r\n            state('register', {\r\n                url: '/register',\r\n                templateUrl: 'app/common/register.tpl.html',\r\n                controller: require('./app/common/RegisterController'),\r\n                controllerAs: 'vm'\r\n            }).\r\n            state('login', {\r\n                url: '/login',\r\n                templateUrl: 'app/common/login.tpl.html',\r\n                controller: require('./app/common/LoginController'),\r\n                controllerAs: 'vm'\r\n            })\r\n            .state('draw', {\r\n                url: '/draw',\r\n                templateUrl: 'app/draw/draw.tpl.html',\r\n                controller: require('./app/draw/DrawController'),\r\n                controllerAs: 'vm'\r\n            });\r\n\r\n        $urlRouterProvider.otherwise(\"/\");\r\n\r\n        $locationProvider.html5Mode(true);\r\n\r\n    }\r\n\r\n    module.exports = DrawboookStates;\r\n\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('drawbook')\r\n        .controller('HomeController', HomeController);\r\n\r\n    HomeController.$inject = ['$auth', '$window', '$state'];\r\n\r\n    /* @ngInject */\r\n    function HomeController($auth, $window, $state) {\r\n        var vm = this;\r\n        vm.title = 'HomeController';\r\n\r\n        //console.log('rootscope: ' + $rootScope.currentUser);\r\n        console.log('localstorage: ' + JSON.parse(localStorage.getItem('currentUser')));\r\n        vm.user = JSON.parse(localStorage.getItem('currentUser'));\r\n\r\n        vm.isAuthenticated = isAuthenticated;\r\n        vm.logout = logout;\r\n        vm.draw = draw;\r\n        \r\n        function isAuthenticated() {\r\n            return $auth.isAuthenticated();\r\n        }\r\n\r\n        function logout() {\r\n            $auth.logout();\r\n            delete $window.localStorage.currentUser;\r\n        }\r\n        \r\n        function draw() {\r\n            $state.go('draw');\r\n        }\r\n        \r\n    }\r\n\r\n    module.exports = HomeController;\r\n\r\n})();\r\n\r\n","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('drawbook')\r\n        .controller('LoginController', LoginController);\r\n\r\n    LoginController.$inject = ['$state', '$auth', '$window'];\r\n\r\n    /* @ngInject */\r\n    function LoginController($state, $auth, $window) {\r\n        var vm = this;\r\n        vm.title = 'LoginController';\r\n\r\n        vm.login = login;\r\n\r\n        vm.incorrectLogin = false;\r\n\r\n        function login() {\r\n\r\n            var user = {\r\n                username: vm.user.name,\r\n                password: vm.user.password\r\n            };\r\n\r\n            $auth.login(user)\r\n                .then(function(res) {\r\n                    $window.localStorage.currentUser = JSON.stringify(res.data.user);\r\n                    //$rootScope.currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n                    $state.go('home');\r\n                })\r\n                .catch(function(res) {\r\n                    console.log('error: ' + res);\r\n                    vm.incorrectLogin = true;\r\n                });\r\n        }\r\n    }\r\n    module.exports = LoginController;\r\n})();\r\n\r\n","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('drawbook')\r\n        .controller('RegisterController', RegisterController);\r\n\r\n    RegisterController.$inject = ['$state', '$auth', '$window', 'UserService', '$alert'];\r\n\r\n    /* @ngInject */\r\n    function RegisterController($state, $auth, $window, UserService, $alert) {\r\n        var vm = this;\r\n        vm.title = 'RegisterController';\r\n        vm.genders = ['Male', 'Female'];\r\n\r\n        vm.takenUsername = false;\r\n\r\n        vm.checkUsername = checkUsername;\r\n        vm.register = register;\r\n\r\n        ////////////////\r\n\r\n        function checkUsername() {\r\n            UserService.get(vm.user.name)\r\n                .then(function (res) {\r\n                    vm.takenUsername = res.user != null;\r\n                })\r\n                .catch(function(res) {\r\n                    console.log('Server problem');\r\n                });\r\n        }\r\n\r\n        function register() {\r\n            var user = {\r\n                username: vm.user.name,\r\n                password: vm.user.password,\r\n                firstName: vm.user.firstName,\r\n                lastName: vm.user.lastName,\r\n                age: vm.user.age,\r\n                gender: vm.user.gender\r\n            };\r\n\r\n            $auth.signup(user)\r\n                .then(function(res) {\r\n                    console.log(res);\r\n                    $window.localStorage.currentUser = JSON.stringify(res.data.user);\r\n                    $auth.login(user)\r\n                        .then(function (res) {\r\n                            $state.go('home');\r\n                        })\r\n                        .catch(function (res) {\r\n                            console.log('Error ' + res);\r\n                        });\r\n                })\r\n                .catch(function(res) {\r\n                    console.log('Error ' + res);\r\n                });\r\n\r\n        }\r\n    }\r\n\r\n    module.exports = RegisterController;\r\n\r\n})();\r\n\r\n","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('drawbook')\r\n        .controller('DrawController', DrawController);\r\n\r\n    DrawController.$inject = [];\r\n\r\n    /* @ngInject */\r\n    function DrawController() {\r\n        var vm = this;\r\n        vm.title = 'DrawController';\r\n        \r\n        \r\n        \r\n        \r\n    }\r\n\r\n    module.exports = DrawController;\r\n\r\n})();\r\n\r\n","(function () {\r\n    'use strict';\r\n\r\n    UserService.$inject = ['$q', '$http', 'server'];\r\n\r\n    /* @ngInject */\r\n    function UserService($q, $http, server) {\r\n\r\n        return {\r\n            get: function (username) {\r\n                var deferred = $q.defer();\r\n                $http.get(server.url + 'users/' + username)\r\n                    .success(function (data) {\r\n                        deferred.resolve(data);\r\n                    })\r\n                    .error(function (data) {\r\n                        deferred.reject('rejected: ' + data);\r\n                    });\r\n\r\n                return deferred.promise;\r\n            }\r\n        };\r\n    }\r\n\r\n    module.exports = UserService;\r\n\r\n})();\r\n"],"sourceRoot":"/source/"}