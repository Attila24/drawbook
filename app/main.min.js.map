{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app/app.auth.js","main.min.js","app/app.constants.js","app/app.js","app/app.routes.js","app/commons/home/HomeController.js","app/commons/login/LoginController.js","app/commons/register/RegisterController.js","app/commons/services/AuthService.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","AuthConfig","$authProvider","server","baseUrl","url","signupUrl","loginUrl","$inject",2,3,"angular","constant","factory","config","./app.auth","./app.constants","./app.routes","./commons/services/AuthService",4,"PaintrStates","$stateProvider","$urlRouterProvider","$locationProvider","state","templateUrl","controller","controllerAs","otherwise","html5Mode","./commons/home/HomeController","./commons/login/LoginController","./commons/register/RegisterController",5,"HomeController","$auth","$rootScope","$window","isAuthenticated","logout","localStorage","currentUser","vm","this","title","console","log","JSON","parse","getItem","user",6,"LoginController","$state","login","username","name","password","then","res","stringify","data","go",7,"RegisterController","register","signup","genders",8,"AuthService","$q","$timeout","$http","isLoggedIn","deferred","defer","post","success","status","resolve","reject","error","promise","get","service"],"mappings":"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","file":"main.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function () {\r\n    'use strict';\r\n\r\n    AuthConfig.$inject = ['$authProvider', 'server'];\r\n\r\n\r\n    /* @ngInject */\r\n    function AuthConfig ($authProvider, server) {\r\n        $authProvider.baseUrl = server.url;\r\n\r\n        $authProvider.signupUrl = '/users/register';\r\n        $authProvider.loginUrl = '/users/login';\r\n    }\r\n\r\n    module.exports = AuthConfig;\r\n\r\n})();","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function () {\r\n    'use strict';\r\n\r\n    AuthConfig.$inject = ['$authProvider', 'server'];\r\n\r\n\r\n    /* @ngInject */\r\n    function AuthConfig ($authProvider, server) {\r\n        $authProvider.baseUrl = server.url;\r\n\r\n        $authProvider.signupUrl = '/users/register';\r\n        $authProvider.loginUrl = '/users/login';\r\n    }\r\n\r\n    module.exports = AuthConfig;\r\n\r\n})();\n},{}],2:[function(require,module,exports){\n(function () {\r\n    'use strict';\r\n\r\n    module.exports = {\r\n        url: 'http://localhost:5000/api/'\r\n    }\r\n\r\n})();\n},{}],3:[function(require,module,exports){\n(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('paintr', [\r\n            'ngAnimate',\r\n            'ui.router',\r\n            'mgcrea.ngStrap',\r\n            'satellizer'\r\n        ])\r\n        .constant('server', require('./app.constants'))\r\n        .factory('AuthService', require('./commons/services/AuthService'))\r\n        .config(require('./app.routes'))\r\n        .config(require('./app.auth'));\r\n})();\n},{\"./app.auth\":1,\"./app.constants\":2,\"./app.routes\":4,\"./commons/services/AuthService\":8}],4:[function(require,module,exports){\n(function () {\r\n    'use strict';\r\n\r\n    PaintrStates.$inject = ['$stateProvider', '$urlRouterProvider', '$locationProvider'];\r\n\r\n\r\n    /* @ngInject */\r\n    function PaintrStates ($stateProvider, $urlRouterProvider, $locationProvider) {\r\n        $stateProvider.state('home', {\r\n                url: '/',\r\n                templateUrl: 'commons/home/home.tpl.html',\r\n                controller: require('./commons/home/HomeController'),\r\n                controllerAs: 'vm'\r\n            }).\r\n            state('register', {\r\n                url: '/register',\r\n                templateUrl: 'commons/register/register.tpl.html',\r\n                controller: require('./commons/register/RegisterController'),\r\n                controllerAs: 'vm'\r\n            }).\r\n            state('login', {\r\n                url: '/login',\r\n                templateUrl: 'commons/login/login.tpl.html',\r\n                controller: require('./commons/login/LoginController'),\r\n                controllerAs: 'vm'\r\n            });\r\n\r\n        $urlRouterProvider.otherwise(\"/\");\r\n\r\n        $locationProvider.html5Mode(true);\r\n\r\n    }\r\n\r\n    module.exports = PaintrStates;\r\n\r\n})();\n},{\"./commons/home/HomeController\":5,\"./commons/login/LoginController\":6,\"./commons/register/RegisterController\":7}],5:[function(require,module,exports){\n(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('paintr')\r\n        .controller('HomeController', HomeController);\r\n\r\n    HomeController.$inject = ['$auth', '$rootScope', '$window'];\r\n\r\n    /* @ngInject */\r\n    function HomeController($auth, $rootScope, $window) {\r\n        var vm = this;\r\n        vm.title = 'HomeController';\r\n\r\n        console.log('rootscope: ' + $rootScope.currentUser);\r\n        console.log('localstorage: ' + JSON.parse(localStorage.getItem('currentUser')));\r\n        vm.user = JSON.parse(localStorage.getItem('currentUser'));\r\n\r\n        vm.isAuthenticated = isAuthenticated;\r\n        vm.logout = logout;\r\n\r\n        function isAuthenticated() {\r\n            return $auth.isAuthenticated();\r\n        }\r\n\r\n        function logout() {\r\n            $auth.logout();\r\n            delete $window.localStorage.currentUser;\r\n        }\r\n\r\n    }\r\n\r\n    module.exports = HomeController;\r\n\r\n})();\r\n\r\n\n},{}],6:[function(require,module,exports){\n(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('paintr')\r\n        .controller('LoginController', LoginController);\r\n\r\n    LoginController.$inject = ['$state', '$auth', '$rootScope', '$window'];\r\n\r\n    /* @ngInject */\r\n    function LoginController($state, $auth, $rootScope, $window) {\r\n        var vm = this;\r\n        vm.title = 'LoginController';\r\n\r\n        vm.login = login;\r\n\r\n        function login() {\r\n\r\n            var user = {\r\n                username: vm.user.name,\r\n                password: vm.user.password\r\n            };\r\n\r\n            $auth.login(user)\r\n                .then(function(res) {\r\n                    $window.localStorage.currentUser = JSON.stringify(res.data.user);\r\n                    $rootScope.currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n                    $state.go('home');\r\n                })\r\n                .catch(function(res) {\r\n                    console.log('error: ' + res);\r\n                });\r\n        }\r\n    }\r\n    module.exports = LoginController;\r\n})();\r\n\r\n\n},{}],7:[function(require,module,exports){\n(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('paintr')\r\n        .controller('RegisterController', RegisterController);\r\n\r\n    RegisterController.$inject = ['$state', '$auth', '$rootScope', '$window'];\r\n\r\n    /* @ngInject */\r\n    function RegisterController($state, $auth, $rootScope, $window) {\r\n        var vm = this;\r\n        vm.title = 'RegisterController';\r\n        vm.genders = ['Male', 'Female'];\r\n\r\n        vm.register = register;\r\n\r\n        ////////////////\r\n\r\n        function register() {\r\n            var user = {\r\n                username: vm.user.name,\r\n                password: vm.user.password\r\n            };\r\n\r\n            $auth.signup(user)\r\n                .then(function(res) {\r\n                    console.log(res);\r\n                    $window.localStorage.currentUser = JSON.stringify(res.data.user);\r\n                    $rootScope.currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n                    $state.go('home');\r\n                })\r\n                .catch(function(res) {\r\n                    console.log('Error ' + res);\r\n                })\r\n\r\n        }\r\n    }\r\n\r\n    module.exports = RegisterController;\r\n\r\n})();\r\n\r\n\n},{}],8:[function(require,module,exports){\n(function () {\r\n    'use strict';\r\n\r\n    AuthService.$inject = ['$q', '$timeout', '$http', 'server'];\r\n\r\n    /* @ngInject */\r\n    function AuthService($q, $timeout, $http, server) {\r\n\r\n        var user = null;\r\n\r\n        var service = {\r\n            isLoggedIn: isLoggedIn,\r\n            login: login,\r\n            logout: logout,\r\n            register: register\r\n        };\r\n\r\n        return service;\r\n\r\n        function isLoggedIn() {\r\n            if (user) return true;\r\n            else return false;\r\n        }\r\n\r\n\r\n        function login(username, password) {\r\n\r\n            var deferred = $q.defer();\r\n\r\n            $http.post(server.url + 'users/login', {username: username, password: password})\r\n                .success(function(data, status) {\r\n                    if (status === 200 && data.status) {\r\n                        user = true;\r\n                        deferred.resolve();\r\n                    } else {\r\n                        user = false;\r\n                        deferred.reject();\r\n                    }\r\n                })\r\n                .error(function(data) {\r\n                    user = false;\r\n                    deferred.reject();\r\n                });\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        function logout() {\r\n\r\n            var deferred = $q.defer();\r\n\r\n            $http.get(server.url + 'users/logout')\r\n                .success(function (data) {\r\n                    user = false;\r\n                    deferred.resolve();\r\n                })\r\n                .error(function (data) {\r\n                    user = false;\r\n                    deferred.reject();\r\n                });\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        function register(username, password) {\r\n\r\n            var deferred = $q.defer();\r\n\r\n            $http.post(server.url + 'users/register', {username: username, password: password})\r\n                .success(function(data, status) {\r\n                    if (status === 200 && data.status) {\r\n                        deferred.resolve();\r\n                    } else {\r\n                        deferred.reject();\r\n                    }\r\n                })\r\n                .error(function(data) {\r\n                   deferred.reject();\r\n                });\r\n\r\n            return deferred.promise;\r\n        }\r\n    }\r\n\r\n    module.exports = AuthService;\r\n\r\n})();\r\n\n},{}]},{},[3])\n\n","(function () {\r\n    'use strict';\r\n\r\n    module.exports = {\r\n        url: 'http://localhost:5000/api/'\r\n    }\r\n\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('paintr', [\r\n            'ngAnimate',\r\n            'ui.router',\r\n            'mgcrea.ngStrap',\r\n            'satellizer'\r\n        ])\r\n        .constant('server', require('./app.constants'))\r\n        .factory('AuthService', require('./commons/services/AuthService'))\r\n        .config(require('./app.routes'))\r\n        .config(require('./app.auth'));\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    PaintrStates.$inject = ['$stateProvider', '$urlRouterProvider', '$locationProvider'];\r\n\r\n\r\n    /* @ngInject */\r\n    function PaintrStates ($stateProvider, $urlRouterProvider, $locationProvider) {\r\n        $stateProvider.state('home', {\r\n                url: '/',\r\n                templateUrl: 'commons/home/home.tpl.html',\r\n                controller: require('./commons/home/HomeController'),\r\n                controllerAs: 'vm'\r\n            }).\r\n            state('register', {\r\n                url: '/register',\r\n                templateUrl: 'commons/register/register.tpl.html',\r\n                controller: require('./commons/register/RegisterController'),\r\n                controllerAs: 'vm'\r\n            }).\r\n            state('login', {\r\n                url: '/login',\r\n                templateUrl: 'commons/login/login.tpl.html',\r\n                controller: require('./commons/login/LoginController'),\r\n                controllerAs: 'vm'\r\n            });\r\n\r\n        $urlRouterProvider.otherwise(\"/\");\r\n\r\n        $locationProvider.html5Mode(true);\r\n\r\n    }\r\n\r\n    module.exports = PaintrStates;\r\n\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('paintr')\r\n        .controller('HomeController', HomeController);\r\n\r\n    HomeController.$inject = ['$auth', '$rootScope', '$window'];\r\n\r\n    /* @ngInject */\r\n    function HomeController($auth, $rootScope, $window) {\r\n        var vm = this;\r\n        vm.title = 'HomeController';\r\n\r\n        console.log('rootscope: ' + $rootScope.currentUser);\r\n        console.log('localstorage: ' + JSON.parse(localStorage.getItem('currentUser')));\r\n        vm.user = JSON.parse(localStorage.getItem('currentUser'));\r\n\r\n        vm.isAuthenticated = isAuthenticated;\r\n        vm.logout = logout;\r\n\r\n        function isAuthenticated() {\r\n            return $auth.isAuthenticated();\r\n        }\r\n\r\n        function logout() {\r\n            $auth.logout();\r\n            delete $window.localStorage.currentUser;\r\n        }\r\n\r\n    }\r\n\r\n    module.exports = HomeController;\r\n\r\n})();\r\n\r\n","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('paintr')\r\n        .controller('LoginController', LoginController);\r\n\r\n    LoginController.$inject = ['$state', '$auth', '$rootScope', '$window'];\r\n\r\n    /* @ngInject */\r\n    function LoginController($state, $auth, $rootScope, $window) {\r\n        var vm = this;\r\n        vm.title = 'LoginController';\r\n\r\n        vm.login = login;\r\n\r\n        function login() {\r\n\r\n            var user = {\r\n                username: vm.user.name,\r\n                password: vm.user.password\r\n            };\r\n\r\n            $auth.login(user)\r\n                .then(function(res) {\r\n                    $window.localStorage.currentUser = JSON.stringify(res.data.user);\r\n                    $rootScope.currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n                    $state.go('home');\r\n                })\r\n                .catch(function(res) {\r\n                    console.log('error: ' + res);\r\n                });\r\n        }\r\n    }\r\n    module.exports = LoginController;\r\n})();\r\n\r\n","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('paintr')\r\n        .controller('RegisterController', RegisterController);\r\n\r\n    RegisterController.$inject = ['$state', '$auth', '$rootScope', '$window'];\r\n\r\n    /* @ngInject */\r\n    function RegisterController($state, $auth, $rootScope, $window) {\r\n        var vm = this;\r\n        vm.title = 'RegisterController';\r\n        vm.genders = ['Male', 'Female'];\r\n\r\n        vm.register = register;\r\n\r\n        ////////////////\r\n\r\n        function register() {\r\n            var user = {\r\n                username: vm.user.name,\r\n                password: vm.user.password\r\n            };\r\n\r\n            $auth.signup(user)\r\n                .then(function(res) {\r\n                    console.log(res);\r\n                    $window.localStorage.currentUser = JSON.stringify(res.data.user);\r\n                    $rootScope.currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n                    $state.go('home');\r\n                })\r\n                .catch(function(res) {\r\n                    console.log('Error ' + res);\r\n                })\r\n\r\n        }\r\n    }\r\n\r\n    module.exports = RegisterController;\r\n\r\n})();\r\n\r\n","(function () {\r\n    'use strict';\r\n\r\n    AuthService.$inject = ['$q', '$timeout', '$http', 'server'];\r\n\r\n    /* @ngInject */\r\n    function AuthService($q, $timeout, $http, server) {\r\n\r\n        var user = null;\r\n\r\n        var service = {\r\n            isLoggedIn: isLoggedIn,\r\n            login: login,\r\n            logout: logout,\r\n            register: register\r\n        };\r\n\r\n        return service;\r\n\r\n        function isLoggedIn() {\r\n            if (user) return true;\r\n            else return false;\r\n        }\r\n\r\n\r\n        function login(username, password) {\r\n\r\n            var deferred = $q.defer();\r\n\r\n            $http.post(server.url + 'users/login', {username: username, password: password})\r\n                .success(function(data, status) {\r\n                    if (status === 200 && data.status) {\r\n                        user = true;\r\n                        deferred.resolve();\r\n                    } else {\r\n                        user = false;\r\n                        deferred.reject();\r\n                    }\r\n                })\r\n                .error(function(data) {\r\n                    user = false;\r\n                    deferred.reject();\r\n                });\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        function logout() {\r\n\r\n            var deferred = $q.defer();\r\n\r\n            $http.get(server.url + 'users/logout')\r\n                .success(function (data) {\r\n                    user = false;\r\n                    deferred.resolve();\r\n                })\r\n                .error(function (data) {\r\n                    user = false;\r\n                    deferred.reject();\r\n                });\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        function register(username, password) {\r\n\r\n            var deferred = $q.defer();\r\n\r\n            $http.post(server.url + 'users/register', {username: username, password: password})\r\n                .success(function(data, status) {\r\n                    if (status === 200 && data.status) {\r\n                        deferred.resolve();\r\n                    } else {\r\n                        deferred.reject();\r\n                    }\r\n                })\r\n                .error(function(data) {\r\n                   deferred.reject();\r\n                });\r\n\r\n            return deferred.promise;\r\n        }\r\n    }\r\n\r\n    module.exports = AuthService;\r\n\r\n})();\r\n"],"sourceRoot":"/source/"}