!function r(e,t,o){function n(i,u){if(!t[i]){if(!e[i]){var c="function"==typeof require&&require;if(!u&&c)return c(i,!0);if(s)return s(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var a=t[i]={exports:{}};e[i][0].call(a.exports,function(r){var t=e[i][1][r];return n(t?t:r)},a,a.exports,r,e,t,o)}return t[i].exports}var s="function"==typeof require&&require;for(var i=0;i<o.length;i++)n(o[i]);return n}({1:[function(r,e,t){!function(){"use strict";function r(r,e){r.baseUrl=e.url;r.signupUrl="/users/register";r.loginUrl="/users/login"}r.$inject=["$authProvider","server"];e.exports=r}()},{}],2:[function(r,e,t){!function(){"use strict";e.exports={url:"http://localhost:5000/api/"}}()},{}],3:[function(r,e,t){!function(){"use strict";angular.module("paintr",["ngAnimate","ui.router","mgcrea.ngStrap","satellizer"]).constant("server",r("./app.constants")).factory("AuthService",r("./commons/services/AuthService")).config(r("./app.routes")).config(r("./app.auth"))}()},{"./app.auth":1,"./app.constants":2,"./app.routes":4,"./commons/services/AuthService":8}],4:[function(r,e,t){!function(){"use strict";function t(e,t,o){e.state("home",{url:"/",templateUrl:"commons/home/home.tpl.html",controller:r("./commons/home/HomeController"),controllerAs:"vm"}).state("register",{url:"/register",templateUrl:"commons/register/register.tpl.html",controller:r("./commons/register/RegisterController"),controllerAs:"vm"}).state("login",{url:"/login",templateUrl:"commons/login/login.tpl.html",controller:r("./commons/login/LoginController"),controllerAs:"vm"});t.otherwise("/");o.html5Mode(!0)}t.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"];e.exports=t}()},{"./commons/home/HomeController":5,"./commons/login/LoginController":6,"./commons/register/RegisterController":7}],5:[function(r,e,t){!function(){"use strict";function r(r,e,t){function o(){return r.isAuthenticated()}function n(){r.logout();delete t.localStorage.currentUser}var s=this;s.title="HomeController";console.log("rootscope: "+e.currentUser);console.log("localstorage: "+JSON.parse(localStorage.getItem("currentUser")));s.user=JSON.parse(localStorage.getItem("currentUser"));s.isAuthenticated=o;s.logout=n}angular.module("paintr").controller("HomeController",r);r.$inject=["$auth","$rootScope","$window"];e.exports=r}()},{}],6:[function(r,e,t){!function(){"use strict";function r(r,e,t,o){function n(){var n={username:s.user.name,password:s.user.password};e.login(n).then(function(e){o.localStorage.currentUser=JSON.stringify(e.data.user);t.currentUser=JSON.parse(localStorage.getItem("currentUser"));r.go("home")})["catch"](function(r){console.log("error: "+r)})}var s=this;s.title="LoginController";s.login=n}angular.module("paintr").controller("LoginController",r);r.$inject=["$state","$auth","$rootScope","$window"];e.exports=r}()},{}],7:[function(r,e,t){!function(){"use strict";function r(r,e,t,o){function n(){var n={username:s.user.name,password:s.user.password};e.signup(n).then(function(e){console.log(e);o.localStorage.currentUser=JSON.stringify(e.data.user);t.currentUser=JSON.parse(localStorage.getItem("currentUser"));r.go("home")})["catch"](function(r){console.log("Error "+r)})}var s=this;s.title="RegisterController";s.genders=["Male","Female"];s.register=n}angular.module("paintr").controller("RegisterController",r);r.$inject=["$state","$auth","$rootScope","$window"];e.exports=r}()},{}],8:[function(r,e,t){!function(){"use strict";function r(r,e,t,o){function n(){return c?!0:!1}function s(e,n){var s=r.defer();t.post(o.url+"users/login",{username:e,password:n}).success(function(r,e){if(200===e&&r.status){c=!0;s.resolve()}else{c=!1;s.reject()}}).error(function(r){c=!1;s.reject()});return s.promise}function i(){var e=r.defer();t.get(o.url+"users/logout").success(function(r){c=!1;e.resolve()}).error(function(r){c=!1;e.reject()});return e.promise}function u(e,n){var s=r.defer();t.post(o.url+"users/register",{username:e,password:n}).success(function(r,e){200===e&&r.status?s.resolve():s.reject()}).error(function(r){s.reject()});return s.promise}var c=null;var l={isLoggedIn:n,login:s,logout:i,register:u};return l}r.$inject=["$q","$timeout","$http","server"];e.exports=r}()},{}]},{},[3]);
//# sourceMappingURL=main.min.js.map
